<template>
    <lightning-card title="Cases" icon-name="standard:case">
        <lightning-record-edit-form object-api-name="Case">
            <lightning-input type="text" name="caseNum" label="Enter Case Number" onchange= {handleCaseNum}></lightning-input>
            <lightning-button variant="brand" label="Show Cases" icon-name="utility:search" onclick= {caseButtonHandler}></lightning-button>
            <lightning-input-field field-name="Status" onchange= {statusHandler}></lightning-input-field>
        </lightning-record-edit-form>
        <div class="spinner">
                <template lwc:if= {showSpinnerFlag}>
                   <lightning-spinner alternative-text="loading" variant="brand" size="medium"></lightning-spinner>
        </template>
        </div>
        <template if:true={cases.length}>
            <lightning-datatable
                key-field="Id"
                data={cases}
                columns={columns}>
            </lightning-datatable>
            <div class="pagination-controls">
                <lightning-button label="Previous" onclick={handlePrevious} ></lightning-button>
                <span>Page {currentPage}/ Page {totalPages}</span>
                <lightning-button label="Next" onclick={handleNext} ></lightning-button>
            </div>
        </template>
        <template if:false={cases.length}>
            <p>No cases available</p>
        </template>
    </lightning-card>
</template>
